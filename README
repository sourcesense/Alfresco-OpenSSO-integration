=====================================
===  Alfresco-OpenSSO Integration ===
=====================================

DEPLOYMENT
==========

1. Build the jar from the sources, or download the latest release of the filter from: 

http://repository.sourcesense.com/nexus/content/groups/public/com/sourcesense/alfresco/alfresco-opensso/

2. Download OpenSSO SDK from

http://repository.sourcesense.com/nexus/content/repositories/thirdparty/com/sun/identity/openssoclientsdk/8.0/openssoclientsdk-8.0.jar

2. Copy both to <Alfresco_Home>/tomcat/webapps/alfresco/WEB-INF/lib

3. Change the file AMConfig.properties from src/test/resources according to the
existing OpenSSO server installation. Then copy the file to <Alfresco_Home>/tomcat/webapps/alfresco/WEB-INF/classes

4. Replace the authentication filter <Alfresco_Home>/tomcat/webapps/alfresco/WEB-INF/web.xml:

<filter>
      <filter-name>Authentication Filter</filter-name>
      <filter-class>org.alfresco.web.app.servlet.AuthenticationFilter</filter-class>
</filter>  
  
  with
  
<filter>
      <filter-name>Authentication Filter</filter-name>
      <filter-class>com.sourcesense.alfresco.opensso.AlfrescoOpenSSOFilter</filter-class>
      <init-param>
	       <param-name>opensso.url</param-name>
	       <param-value>http://localhost:9090/opensso</param-value>
       </init-param>
</filter>



USAGE
=====

Accessing Alfresco's home will redirect the browser to OpenSSO login page. 
After a successful login, openSSO will redirect the browser back to Alfresco. 
If user does not exist in Alfresco, it'll be created. The groups associated with the user in OpenSSO
will be created in Alfresco, and the user will be associated with this groups.
If the user's groups are changed in OpenSSO, the filter will reflect those changes in the moment of login.
No group will bi deleted on Alfresco, just the user association with the groups.


In order to access alfresco administration, the "admin" user must be created in OpenSSO as well.
